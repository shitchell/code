// js/script.js

document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('container');
    const totalImages = 82; // Total number of images you have
    const imageIndices = [];

    // Define the points as a JSON array without numbers
    const points = [
        "enjoys a hike towards an awesome sunset",
        "doesn't mind a little rain on that hike",
        "adores and takes amazing care of her pets",
        "one of the most gorgeous, contagious, addictive smiles",
        "is always willing and wanting to be there for a friend in need, even when she's dealing with her own struggles",
        "amazingly thoughtful and considerate",
        "values straightforward, open honesty",
        "loves and feels deeply and passionately",
        "thinks driving around singing songs in the car together sounds like a good time :)",
        "amazing communicator",
        "gives and appreciates awesome hugs",
        "makes it a priority to reflect on and take accountability for her role in the way things turn out, even when she's 100% not culpable...",
        "...which is always since she can do literally no wrong :P",
        "has the best taste in band t's and pm sweaters",
        "is the kind of person to think this is sweet rather than ridiculous and over-the-top (oh god i hope)",
        "communicates her feelings clearly while still taking the other person's feelings into consideration",
        "willing to laugh at herself and not take things too seriously",
        "takes awesome pictures of snow and konas for my lock screen",
        "always down for spontaneous adventures",
        "always down for spontaneous staying-inside-and-doing-nothings",
        "has a keen ability to really see, understand, and empathize with others...",
        "...which leads to, among other things, awesome book recommendations :D",
        "...and generally being able to make people feel seen, heard, and understood",
        "makes the hard days easier to get through",
        "can make even the most mundane moments a blast",
        "though parting is always such sweet sorrow, makes it bearable with the awesomest goodbyes :D",
        "ever willing to explore and look at every facet of herself, even those many would prefer to ignore or hide...",
        "...and then will use that to help others",
        "handles the weight of work and life with admirable strength",
        "always committed to growing and overcoming anything that stands in the way of that",
        "easily finds the sweetest compliments and supportive things to say",
        "willing to work hard when needed while still strongly holding a \"fuck work\" philosophy :P",
        "unafraid of confronting and telling off the big boss",
        "loyal af and always has her friends' backs",
        "she is a safe, comforting, warm space where you can just be yourself and feel nothing but love for it",
        "shamelessly, unapologetically herself â€” one of the most loving, passionate, fierce, empathic, beautiful souls i've been blessed to know"
    ];

    // Generate an array of image indices from 1 to totalImages
    for (let i = 1; i <= totalImages; i++) {
        imageIndices.push(i);
    }

    // Shuffle the image indices
    shuffleArray(imageIndices);

    // Create sections dynamically
    points.forEach((pointText, index) => {
        const section = document.createElement('div');
        section.classList.add('section');

        const contentDiv = document.createElement('div');
        contentDiv.classList.add('content');

        const h1 = document.createElement('h1');
        h1.textContent = `${index + 1}. ${pointText}`;

        contentDiv.appendChild(h1);
        section.appendChild(contentDiv);

        // Assign background image
        const bgImageIndex = imageIndices[index % totalImages];
        const imageUrl = `img/${String(bgImageIndex).padStart(3, '0')}.jpg`; // Adjusted for '001.jpg' format
        section.style.backgroundImage = `url('${imageUrl}')`;

        container.appendChild(section);
    });

    // Create the final section
    const finalSection = document.createElement('div');
    finalSection.classList.add('final-section');

    // Create image collage
    const imageCollage = document.createElement('div');
    imageCollage.classList.add('image-collage');

    for (let i = 1; i <= totalImages; i++) {
        const imgDiv = document.createElement('div');
        imgDiv.classList.add('collage-image');
        const imageUrl = `img/${String(i).padStart(3, '0')}.jpg`;
        imgDiv.style.backgroundImage = `url('${imageUrl}')`;
        imageCollage.appendChild(imgDiv);
    }

    finalSection.appendChild(imageCollage);

    // Create all-points div
    const allPointsDiv = document.createElement('div');
    allPointsDiv.classList.add('all-points');

    points.forEach((pointText) => {
        const pointDiv = document.createElement('div');
        pointDiv.classList.add('point');
        pointDiv.textContent = pointText;
        allPointsDiv.appendChild(pointDiv);
    });

    finalSection.appendChild(allPointsDiv);

    container.appendChild(finalSection);
});

// Function to shuffle an array
function shuffleArray(array) {
    for (let i = array.length -1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i+1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
